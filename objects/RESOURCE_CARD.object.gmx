<!--This Document is generated by GameMaker, if you edit it by hand then you do so at your own risk!-->
<object>
  <spriteName>&lt;undefined&gt;</spriteName>
  <solid>0</solid>
  <visible>-1</visible>
  <depth>0</depth>
  <persistent>0</persistent>
  <parentName>CARD</parentName>
  <maskName>&lt;undefined&gt;</maskName>
  <events>
    <event eventtype="0" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>/// CLASS VARS
event_inherited();

sprite_index = spr_card;
subclass    = "";
type        = RESOURCE_CARD
castingCost = 0;
creatureResources = 0;
spellResources    = 0;
enchantResources  = 0;
activated   = false;
// classes
ds_list_add(classes, "Creature Resource");
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="3" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>/// interaction
event_inherited();

if (position == "hand") {
    if (owner == global.player) {
        if (global.TURN == global.player) {
            if (castingChecking) {
                if (basicActivationChecks()) {
                    event_user(CONST_PLAY_CARD_EVENT);  // play this land
                }
                
                castingChecking = false;
            }
        }
    }
}


// activate?
if (position == "board") {
    if (clicked) {
        if (owner == global.player) {
            if (global.TURN == global.player) {
                if !(global.GAME_PHASE == "draw") {
                    if !(activated) {
                        activated = true;
                        event_user(CONST_TAP_EVENT); // tap the card for its resources
                    }
                }
            }
        }
        
        clicked = false;
    }
}


// clear click state
clicked = false;
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="7" enumb="12">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>/// Untap

activated = false;
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="7" enumb="11">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>/// GIVE RESOURCE and spawn particle fx

owner.creatureResources  += creatureResources;
owner.spellResources     += spellResources;
owner.enchantResources   += enchantResources;
activated = true;
show_debug_message("Tapped "  +string(name));


// particles
var particleCount = 3;
var glowieStartX  = x;
var glowieStartY  = y;
var minAmplitude  = 50;
var maxAmplitude  = 150;
var minFrequency  = 0.5;
var maxFrequency  = 2;



if (creatureResources &gt; 0) {
    if (owner == global.player) {
        var glowieTargetX  = GUI.mana1X;
        var glowieTargetY  = GUI.manaY;
    } else {
        var glowieTargetX  = GUI.enemy_mana1X;
        var glowieTargetY  = GUI.enemy_manaY;
    }
    
    repeat(particleCount) {
        var col_red   = 155 + random(100);
        var col_green = 0;
        var col_blue  = 0;
        
        var colour = make_colour_rgb(col_red, col_green, col_blue);
        
        var randX = 50;
        var randY = 50;
        
        spawn_resource_fx(glowieStartX + random(randX), glowieStartY + random(randY), glowieTargetX, glowieTargetY, colour, minAmplitude, maxAmplitude, minFrequency, maxFrequency);
    }
}


if (spellResources &gt; 0) {
    if (owner == global.player) {
        var glowieTargetX  = GUI.mana2X;
        var glowieTargetY  = GUI.manaY;
    } else {
        var glowieTargetX  = GUI.enemy_mana2X;
        var glowieTargetY  = GUI.enemy_manaY;
    }
    
    repeat(particleCount) {
        var col_red   = 0;
        var col_green = 0;
        var col_blue  = 155 + random(100);
        
        var colour = make_colour_rgb(col_red, col_green, col_blue);
        
        var randX = 50;
        var randY = 50;
        
        spawn_resource_fx(glowieStartX  + random(randX), glowieStartY  + random(randY), glowieTargetX, glowieTargetY, colour, minAmplitude, maxAmplitude, minFrequency, maxFrequency);
    }
}


if (enchantResources &gt; 0) {
    if (owner == global.player) {
        var glowieTargetX  = GUI.mana3X;
        var glowieTargetY  = GUI.manaY;
    } else {
        var glowieTargetX  = GUI.enemy_mana3X;
        var glowieTargetY  = GUI.enemy_manaY;
    }
    
    repeat(particleCount) {
        var col_red   = 0;
        var col_green = 155 + random(100);
        var col_blue  = 0;
        
        var colour = make_colour_rgb(col_red, col_green, col_blue);
        
        var randX = 50;
        var randY = 50;
        
        spawn_resource_fx(glowieStartX + random(randX), glowieStartY + random(randY), glowieTargetX, glowieTargetY, colour, minAmplitude, maxAmplitude, minFrequency, maxFrequency);
    }
}

</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="7" enumb="10">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>/// Add the land to the resource lane
removeFromHand(id);
position = "board";
addResourceCardToLane(owner.resourceLane, id);
</string>
          </argument>
        </arguments>
      </action>
    </event>
  </events>
  <PhysicsObject>0</PhysicsObject>
  <PhysicsObjectSensor>0</PhysicsObjectSensor>
  <PhysicsObjectShape>0</PhysicsObjectShape>
  <PhysicsObjectDensity>0.5</PhysicsObjectDensity>
  <PhysicsObjectRestitution>0.100000001490116</PhysicsObjectRestitution>
  <PhysicsObjectGroup>0</PhysicsObjectGroup>
  <PhysicsObjectLinearDamping>0.100000001490116</PhysicsObjectLinearDamping>
  <PhysicsObjectAngularDamping>0.100000001490116</PhysicsObjectAngularDamping>
  <PhysicsObjectFriction>0.200000002980232</PhysicsObjectFriction>
  <PhysicsObjectAwake>-1</PhysicsObjectAwake>
  <PhysicsObjectKinematic>0</PhysicsObjectKinematic>
  <PhysicsShapePoints/>
</object>
